@model TestDA.Areas.Manager.Models.ViewModel.NhomTinData

@{
    ViewBag.Title = "Edit";
    Layout = "~/Areas/Manager/Views/Shared/_AdminPartial.cshtml";
}
<!--content header-->
<section class="content-header">
    <h1>
        <i class="fa fa-list"></i>
        Danh mục nhóm tin
        <small></small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Trang chủ</a></li><li><a href="/Manager/NhomTin/"> Danh mục</a></li>
        <li class="active">Chỉnh sửa danh mục</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <div class="container body-content">

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <div class="form-horizontal">
                <h4 style="display:inline;">Chỉnh sửa danh mục</h4> | @Html.ActionLink("[Quay lại danh sách nhóm tin]","Index","NhomTin")
                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.HiddenFor(model => model.maNhom)

                <div class="form-group">
                    @Html.LabelFor(model => model.tenNhom, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-6">
                        @Html.EditorFor(model => model.tenNhom, new { htmlAttributes = new { @class = "form-control", @id = "name-group" } })
                        @Html.ValidationMessageFor(model => model.tenNhom, null, new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.slug, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-6">
                        @Html.EditorFor(model => model.slug, new { htmlAttributes = new { @class = "form-control", @id = "slug-group" } })
                       @* @Html.Label("", new { @id = "show-slug"})*@
                        @Html.ValidationMessageFor(model => model.slug, "", new { @class = "text-danger" })
                        <p>Slug giúp tạo đường dẫn thân thiện cho website.</p>
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.danhMucCha, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-6">
                        @Html.DropDownListFor(model => model.danhMucCha, null, "--None--", new { id = "ddlParent", @class = "form-control", @style = "width:60%;" })
                        @Html.ValidationMessageFor(model => model.danhMucCha, "", new { @class = "text-danger" })
                        <p>Lựa chọn danh mục làm danh mục cha cho danh mục đang tạo, nếu không thì đó là danh mục cấp cao nhất.</p>
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.tinhTrang, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-6">
                        @Html.DropDownListFor(model => model.tinhTrang, new List<SelectListItem> {
                        new SelectListItem { Text="Xuất bản ", Value="1" },
                        new SelectListItem { Text="Chưa xuất bản", Value="0" }
                    }, "--None--", new { id = "ddlParent", @class = "form-control", @style="width:40%;" })
                        @Html.ValidationMessageFor(model => model.tinhTrang, "", new { @class = "text-danger" })
                        <p>Lựa chọn danh mục làm danh mục cha cho danh mục đang tạo, nếu không thì đó là danh mục cấp cao nhất.</p>
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.moTa, htmlAttributes: new { @class = "control-label col-md-3" })
                    <div class="col-md-6">
                        @Html.TextAreaFor(model => model.moTa, new { @class = "form-control", @rows = "4" })
                        @Html.ValidationMessageFor(model => model.moTa, "", new { @class = "text-danger" })
                        <p>Thêm mô tả để hiểu về vai trò của danh mục này.</p>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-3 col-md-6 add-button">
                        <input type="submit" value="Lưu thông tin" class="btn btn-default btn-primary" />
                    </div>
                </div>
            </div>
        }
    </div>
</section>
@section Scripts{
    <script>
        @*$(document).ready(function () {
            //sửa slug gây lỗi 404 cho link cũ,liên quan tới seo
            //hiển thị slug vào ô textbox
            $('#name-group').change(function () {
                var name = $('#name-group').val();
                $.ajax({
                    type: "POST",
                    url: "@(Url.Action("Slug", "GroupNews"))",
                    data: { nameGroupNews: name },
                    dataType: "json",
                    success: function (data) {
                       // $('#show-slug').val(data);
                        $('#slug-group').val(data);
                    },
                    error: function (error) {

                    }
                    ///console.log(model);
                });
            });
        });*@
        //
</script>
    }